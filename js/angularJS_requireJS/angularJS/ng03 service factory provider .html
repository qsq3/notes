<!DOCTYPE html>
<html lang="zh-CN" ng-app="myModule">
<head>
  <meta charset="utf-8">
  <title>ng03 service factory provider</title>

  <!-- 优先使用最新版本的IE 和 Chrome 内核 -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="description" content="不超过150个字符">
  <meta name="keywords" content="">
  <meta name="author" content="空山, 112093112@qq.com">

  <!-- 为移动设备添加 viewport -->
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <base target="_blank"></base>

  <link rel="stylesheet" type="text/css" href="../lib/bootstrap/css/bootstrap.min.css" />
  <script src="../lib/angularjs/angular.1.4.6.js" type="text/javascript"></script> 
  <script src="../lib/angularjs/angular-animate.1.4.6.js"></script>

  <script src="../lib/angularjs/angular-touch.1.4.6.js"></script>
  <script src="../lib/angularjs/ui-bootstrap-tpls-2.2.0.js"></script>
</head>
<body class="container">
  <div class="panel panel-primary">
    <div class="panel-heading">
      <div class="panel-title">

      </div>
    </div>
    <div class="panel-body">

    </div>
    <script type="text/javascript">
      var myModule = angular.module('myModule',['ngAnimate', 'ngTouch', 'ui.bootstrap']);
    </script>
  </div>

  <div class="panel panel-primary" ng-controller="myHttp">
    <div class="panel-heading">
      <div class="panel-title">
        创建http服务
      </div>
    </div>
    <div class="panel-body">
      <ul>
        <li ng-repeat="value in dataset">
          {{value.name}}
        </li>
      </ul>
    </div>
    <script type="text/javascript">
      myModule.controller('myHttp', ['$scope','$http', function ($scope,$http) {
        $http({
          method : 'GET',
          url: 'testData.json',
        }).success(function(data, status, headers, config){
          console.log("success...");
          console.log(data);
          if(data.error){
            console.log("错误发生:" + data.data)
          }else{
            $scope.dataset = data.data;
          }
        }).error(function(data, status, headers, config){
          console.log("erroe...");
        });
      }])
    </script>
  </div>

</body>
</html>
